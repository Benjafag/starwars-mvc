@using StarWars.ViewModels
@model List<ActorIndexVM>
@{
  ViewData["Title"] = "Actores";
}

<div class="container py-4 sw-page">

  <!-- Header -->
  <div class="text-center mb-4">
    <h1 class="display-6 fw-bold text-warning sw-title">
      Actores del Universo Star Wars
    </h1>
    <p class="text-white mb-0">
      Explorá los actores y sus apariciones
    </p>
  </div>

  <div class="row justify-content-center">
    <div class="col-12 col-lg-9">

      <div class="row g-3">
        @foreach (ActorIndexVM actor in Model)
        {
          <div class="col-12">
            <article class="card sw-card sw-hover shadow-sm">
              <div class="card-body">
                <div class="row g-3 align-items-center">

                  <!-- Avatar + nombre -->
                  <div class="col-12 col-md-4 text-center">
                    <a asp-controller="Actores" asp-action="Detalles" asp-route-id="@actor.IdActor"
                      class="text-decoration-none text-reset">

                      <img src="@actor.Foto" alt="@actor.Nombre" class="rounded-circle sw-avatar mb-2"
                        style="width: 140px; height: 140px; object-fit: cover;
                        view-transition-name: actor-imagen-@actor.IdActor;" />

                      <h2 class="h6 fw-semibold mb-0 sw-title">
                        @actor.Nombre @actor.Apellido
                      </h2>
                      <small class="text-warning">
                        Ver perfil →
                      </small>
                    </a>
                  </div>

                  <!-- Apariciones -->
                  <div class="col-12 col-md-8">
                    <h3 class="h6 text-uppercase text-white mb-2">
                      Apariciones
                    </h3>

                    @if (actor.Apariciones != null && actor.Apariciones.Any())
                    {
                      <ul class="list-group list-group-flush">
                        @foreach (ActorAparicionVM ap in actor.Apariciones)
                        {
                          <li class="list-group-item px-0 bg-transparent border-secondary-subtle">
                            <div class="d-flex flex-column">
                              <span class="fw-semibold text-light">
                                @ap.NombrePelicula
                              </span>
                              <span class="small text-warning">
                                @ap.NombrePersonaje
                              </span>
                            </div>
                          </li>
                        }
                      </ul>
                    }
                    else
                    {
                      <span class="text-white small">
                        Sin apariciones registradas
                      </span>
                    }
                  </div>

                </div>
              </div>
            </article>
          </div>
        }
      </div>

    </div>
  </div>
</div>